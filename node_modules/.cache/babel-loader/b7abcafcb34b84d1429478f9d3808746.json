{"ast":null,"code":"var _jsxFileName = \"/home/xuperxonic/crud_board/react-crud-firstapp/src/App.js\";\nimport React, { Component } from 'react';\nimport Title from './components/Title';\nimport List from './components/List';\nimport Control from './components/Control';\nimport ReadContent from './components/ReadContent';\nimport CreateContent from './components/CreateContent';\nimport UpdateContent from './components/UpdateComponent';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.max_content_id = 2;\n    this.state = {\n      mode: 'welcome',\n      selected_id: 0,\n      header: {\n        title: \"To DO List\",\n        sub: \"Writer: xuperxonic\"\n      },\n      welcome: {\n        subTitle: \"제목이 표시됩니다.\",\n        subText: \"내용이 표시됩니다.\"\n      },\n      contents: [{\n        id: 0,\n        subTitle: \"1st\",\n        subText: \"첫번째 항목입니다.\"\n      }, {\n        id: 1,\n        subTitle: \"2nd\",\n        subText: \"두번째 항목입니다.\"\n      }, {\n        id: 2,\n        subTitle: \"3rd\",\n        subText: \"세번째 항목입니다.\"\n      }]\n    };\n  }\n\n  getReadContent() {\n    for (let content of this.state.contents) {\n      if (content.id === this.state.selected_id) {\n        return content;\n      }\n    }\n  }\n\n  printContent() {\n    let _subTitle,\n        _subText,\n        _article = null;\n\n    if (this.state.mode === 'welcome') {\n      // welcome 일 때 동작 수행하게\n      _subTitle = this.state.welcome.subTitle;\n      _subText = this.state.welcome.subText;\n      _article = /*#__PURE__*/_jsxDEV(ReadContent, {\n        subTitle: _subTitle,\n        subText: _subText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 18\n      }, this);\n    } else if (this.state.mode === 'read') {\n      let _content = this.getReadContent();\n\n      _subTitle = _content.subTitle;\n      _subText = _content.subText;\n      _article = /*#__PURE__*/_jsxDEV(ReadContent, {\n        subTitle: _subTitle,\n        subText: _subText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 18\n      }, this);\n    } else if (this.state.mode === 'create') {\n      // create 동작일 때 최대 id 값을 올려주고 _article은 createContent의 결과여야 \n      // 그리고 mode와 content, selected_id를 업그레이드 해줘야\n      this.max_content_id++;\n      _article = /*#__PURE__*/_jsxDEV(CreateContent, {\n        onSubmit: function (_subject, _desc) {\n          const newContent = this.state.contents.concat({\n            id: this.max_content_id,\n            subject: _subject,\n            desc: _desc\n          });\n          this.setState({\n            mode: 'read',\n            contents: newContent,\n            selected_id: this.max_content_id\n          });\n        }.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 18\n      }, this);\n    } else if (this.state.mode === 'update') {\n      // update는 좀 복잡해. read 된 것의 내용을 create 양식에 그대로 가져오고\n      // 이걸 수정한 다음 submit 하면 setState로 갱신이 되어야 해 \n      _article = /*#__PURE__*/_jsxDEV(UpdateContent, {\n        onSubmit: function (_id, _subTitle, _subText) {\n          const renewContent = Array.from(this.state.contents);\n\n          for (let i = 0; i < renewContent.length; i++) {\n            if (_id === renewContent[i].id) {\n              // 해당하는 id값을 찾으면 그 내용을 변경하는거야\n              renewContent[i] = {\n                id: _id,\n                subTitle: _subTitle,\n                subText: _subText\n              };\n              break;\n            }\n          }\n\n          this.setState({\n            mode: 'read',\n            contents: renewContent\n          });\n        }.bind(this),\n        data: this.getReadContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 18\n      }, this);\n    }\n\n    return _article;\n  }\n\n  deleteContent() {\n    // 해당하는 content를 불러서 pop을 한뒤 max id 바꿔.\n    let _contents = Array.from(this.state.contents);\n\n    if (window.confirm(\"정말로 삭제하시겠습니까?\")) {\n      for (let i = 0; i < _contents.length; i++) {\n        if (_contents[i].id === this.state.selected_id) {\n          _contents.splice(i, 1);\n\n          break;\n        }\n      }\n\n      this.setState({\n        mode: 'welcome',\n        contents: _contents\n      });\n      alert(\"삭제되었습니다.\");\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(Title, {\n        title: this.state.header.title,\n        sub: this.state.header.sub,\n        onChangePage: function () {\n          this.setState({\n            mode: 'welcome'\n          });\n        }.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        data: this.state.contents,\n        onChangePage: function (id) {\n          this.setState({\n            selected_id: Number(id),\n            mode: 'read'\n          });\n        }.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Control, {\n        onChangeMode: function (_mode) {\n          // delete일 때는 바로 실행하게 하자\n          if (_mode === 'delete') {\n            this.deleteContent();\n          } else {\n            // delete가 아닌 모든 오퍼레이션들 \n            this.setState({\n              mode: _mode\n            });\n          }\n        }.bind(this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), this.printContent()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","Title","List","Control","ReadContent","CreateContent","UpdateContent","App","constructor","props","max_content_id","state","mode","selected_id","header","title","sub","welcome","subTitle","subText","contents","id","getReadContent","content","printContent","_subTitle","_subText","_article","_content","_subject","_desc","newContent","concat","subject","desc","setState","bind","_id","renewContent","Array","from","i","length","deleteContent","_contents","window","confirm","splice","alert","render","Number","_mode"],"sources":["/home/xuperxonic/crud_board/react-crud-firstapp/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Title from './components/Title';\nimport List from './components/List';\nimport Control from './components/Control';\nimport ReadContent from './components/ReadContent';\nimport CreateContent from './components/CreateContent';\nimport UpdateContent from './components/UpdateComponent';\nimport './App.css';\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.max_content_id = 2;\n    this.state = {\n      mode: 'welcome',\n      selected_id: 0,\n      header: { title: \"To DO List\", sub: \"Writer: xuperxonic\" },\n      welcome: { subTitle: \"제목이 표시됩니다.\", subText: \"내용이 표시됩니다.\" },\n      contents: [\n        { id: 0, subTitle:\"1st\", subText:\"첫번째 항목입니다.\" },\n        { id: 1, subTitle:\"2nd\", subText:\"두번째 항목입니다.\" },\n        { id: 2, subTitle:\"3rd\", subText:\"세번째 항목입니다.\" }\n      ]\n    }\n  }\n  getReadContent() {\n    for (let content of this.state.contents) {\n      if (content.id === this.state.selected_id) {\n        return content;\n      }\n    }\n  }\n  printContent() {\n    let _subTitle, _subText, _article = null;\n    if (this.state.mode === 'welcome') {\n      // welcome 일 때 동작 수행하게\n      _subTitle = this.state.welcome.subTitle;\n      _subText = this.state.welcome.subText;\n      _article = <ReadContent subTitle={_subTitle} subText={_subText}></ReadContent>;\n    }\n    else if (this.state.mode === 'read') {\n      let _content = this.getReadContent();\n      _subTitle = _content.subTitle;\n      _subText = _content.subText;\n      _article = <ReadContent subTitle={_subTitle} subText={_subText}></ReadContent>;\n      \n    }\n    else if (this.state.mode === 'create') {\n      // create 동작일 때 최대 id 값을 올려주고 _article은 createContent의 결과여야 \n      // 그리고 mode와 content, selected_id를 업그레이드 해줘야\n      this.max_content_id++;\n      _article = <CreateContent\n        onSubmit={function (_subject, _desc) {\n          const newContent = this.state.contents.concat({ id: this.max_content_id, subject: _subject, desc: _desc });\n          this.setState({\n            mode: 'read',\n            contents: newContent,\n            selected_id: this.max_content_id\n          });\n        }.bind(this)}\n      ></CreateContent>\n    }\n    else if (this.state.mode === 'update') {\n      // update는 좀 복잡해. read 된 것의 내용을 create 양식에 그대로 가져오고\n      // 이걸 수정한 다음 submit 하면 setState로 갱신이 되어야 해 \n      _article = <UpdateContent \n        onSubmit={function (_id, _subTitle, _subText) {\n          const renewContent = Array.from(this.state.contents);\n          for (let i = 0; i < renewContent.length; i++) {\n            if (_id === renewContent[i].id) { // 해당하는 id값을 찾으면 그 내용을 변경하는거야\n              renewContent[i] = { id: _id, subTitle: _subTitle, subText: _subText };\n              break;\n            }\n          }\n          this.setState({\n            mode: 'read',\n            contents: renewContent\n          });\n        }.bind(this)}\n        data={this.getReadContent()}\n      ></UpdateContent>\n    }\n    \n    return _article;\n  }\n\n  deleteContent() {\n    // 해당하는 content를 불러서 pop을 한뒤 max id 바꿔.\n    let _contents = Array.from(this.state.contents);\n    if (window.confirm(\"정말로 삭제하시겠습니까?\")) {\n      for (let i = 0; i < _contents.length; i++) {\n        if (_contents[i].id === this.state.selected_id) {\n          _contents.splice(i, 1);\n          break;\n        }\n      }\n      this.setState({\n        mode: 'welcome',\n        contents: _contents\n      });\n      alert(\"삭제되었습니다.\");\n    }\n  }\n  \n  render() {\n    return (\n      <div className=\"App\">\n        <Title\n          title={this.state.header.title}\n          sub={this.state.header.sub}\n          onChangePage={function () {\n            this.setState({ mode: 'welcome' });\n          }.bind(this)}\n        ></Title>\n\n        <List\n          data={this.state.contents}\n          onChangePage={function (id) {\n            this.setState({\n              selected_id: Number(id),\n              mode: 'read'\n            });\n          }.bind(this)}\n        ></List>\n        \n        <Control onChangeMode={function (_mode) {\n            // delete일 때는 바로 실행하게 하자\n            if (_mode === 'delete') {\n              this.deleteContent();\n            }\n            else { // delete가 아닌 모든 오퍼레이션들 \n              this.setState({\n                mode: _mode\n              });\n            }\n          }.bind(this)}></Control>\n       \n        {this.printContent()}\n      </div>\n    );\n  }\n}\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}